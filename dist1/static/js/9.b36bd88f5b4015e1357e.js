webpackJsonp([9],{WU2i:function(a,e){},fcqX:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_axios__=__webpack_require__("6sKG"),__WEBPACK_IMPORTED_MODULE_0_axios___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__),__WEBPACK_IMPORTED_MODULE_1_qs__=__webpack_require__("6iV/"),__WEBPACK_IMPORTED_MODULE_1_qs___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_qs__),echarts=__webpack_require__("P8yQ");__webpack_exports__.a={data:function(){return{foulData:[],ruleList:[],startTime:"",endTime:"",MsTime:"",MeTime:"",illegal:"",illegaloptions:[{value:"datazyzongtianshu",label:"住院总天数"},{value:"datashoushurenci",label:"手术人次"},{value:"datazyzrenci",label:"住院总人次"},{value:"datazyzrenshu",label:"住院总人数"},{value:"datazyrjtianshu",label:"住院人均天数"},{value:"datazylfeiyong",label:"住院总医疗费用"},{value:"datazrjfeiyong",label:"住院总人均费用"},{value:"dataypfeiyong",label:"住院药品费用"},{value:"datazlfeiyong",label:"住院诊疗费用"},{value:"datazffeiyong",label:"住院自费费用"},{value:"datakbjine",label:"住院可报金额"},{value:"databxjine",label:"住院报销金额"},{value:"dataqfx",label:"住院起付线"}],grade:" ",gradeoptions:[{value:"",label:"全部"},{value:"11",label:"一级医院"},{value:"21",label:"二级医院"},{value:"31",label:"三级医院"}],hospitalCode:"",hospitalCodes:[],yearType:"1",yearTypeoptions:[{value:"1",label:"按年度选择"},{value:"2",label:"按月度选择"}],yearShow:!1,monthShow:!1,city:"",cityoptions:[],area:"",areaoptions:[],town:"",townoptions:[],typeName:"",alldataRemake:"",hospitalId:"",hospital:!1,yiyuancode:""}},methods:{getname:function(){localStorage.setItem("hometext","【住院补偿情况分析（年度）】"),1==localStorage.getItem("limited")?this.hospital=!0:2==localStorage.getItem("limited")&&(this.hospital=!1)},yearselect:function(){"1"==this.yearType?(this.yearShow=!0,this.monthShow=!1,this.MsTime="",this.MeTime=""):"2"==this.yearType&&(this.yearShow=!1,this.monthShow=!0,this.startTime="",this.endTime="")},getHostatic:function getHostatic(){var _this2=this,id=this.getAreaCode(),_this=this,dom=document.getElementById("hosContainter"),Chart=echarts.init(dom),type,startTime,endTime,grade;Chart.showLoading({text:"加载加载加载....."}),"1"==this.yearType?(type="yyyy",startTime=this.startTime,endTime=this.endTime):(type="yyyy-MM",startTime=this.MsTime,endTime=this.MeTime),1==localStorage.getItem("limited")?(this.yiyuancode=this.hospitalCode,grade=this.grade):2==localStorage.getItem("limited")&&(this.yiyuancode=localStorage.getItem("othercode"),grade=""),__WEBPACK_IMPORTED_MODULE_0_axios___default()({method:"post",url:__WEBPACK_IMPORTED_MODULE_0_axios___default.a.PARK_API+"/xnhidc/compensate/hospitalization/queryTime",params:{startDate:startTime,endDate:endTime,type:type,hospitalGrade:grade,yiyuanCode:this.yiyuancode,areaCode:id}}).then(function(res){if(0==res.data.code){Chart.hideLoading();for(var echarts_date=res.data.data,dataAxis=[],datazyzongtianshu=[],datashoushurenci=[],datazyzrenci=[],datazyzrenshu=[],datazyrjtianshu=[],datazylfeiyong=[],datazrjfeiyong=[],dataypfeiyong=[],datazlfeiyong=[],datazffeiyong=[],datakbjine=[],databxjine=[],dataqfx=[],datafdrs=[],areaCode=[],i=0;i<echarts_date.length;i++)dataAxis[i]=echarts_date[i].结算时间,datazyzongtianshu[i]=echarts_date[i].住院总天数,datashoushurenci[i]=echarts_date[i].手术人次,datazyzrenci[i]=echarts_date[i].住院总人次,datazyzrenshu[i]=echarts_date[i].住院总人数,datazyrjtianshu[i]=echarts_date[i].人均住院天数,datazylfeiyong[i]=echarts_date[i].住院总医疗费用,datazrjfeiyong[i]=echarts_date[i].住院总人均费用,dataypfeiyong[i]=echarts_date[i].住院药品费用,datazlfeiyong[i]=echarts_date[i].住院诊疗费用,datazffeiyong[i]=echarts_date[i].住院自费费用,datakbjine[i]=echarts_date[i].住院可报金额,databxjine[i]=echarts_date[i].住院报销金额,dataqfx[i]=echarts_date[i].住院起付线,datafdrs[i]=echarts_date[i].住院到达封顶人数;var dataRemake={};for(var name in echarts_date[0])dataRemake.dataAxis=dataAxis,dataRemake.datazyzongtianshu=datazyzongtianshu,dataRemake.datashoushurenci=datashoushurenci,dataRemake.datazyzrenci=datazyzrenci,dataRemake.datazyzrenshu=datazyzrenshu,dataRemake.datazyrjtianshu=datazyrjtianshu,dataRemake.datazylfeiyong=datazylfeiyong,dataRemake.datazrjfeiyong=datazrjfeiyong,dataRemake.dataypfeiyong=dataypfeiyong,dataRemake.datazlfeiyong=datazlfeiyong,dataRemake.datazffeiyong=datazffeiyong,dataRemake.datakbjine=datakbjine,dataRemake.databxjine=databxjine,dataRemake.dataqfx=dataqfx,dataRemake.datafdrs=datafdrs;_this2.alldataRemake=dataRemake,console.log(_this2.alldataRemake);var option={title:{text:_this2.typeName,x:"center"},color:["#2099aa"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{show:!0,feature:{mark:{show:!0},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:dataAxis,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],dataZoom:[{show:!0,yAxisIndex:0,filterMode:"empty",width:30,height:"80%",showDataShadow:!1,left:"97%"}],series:[{name:_this2.typeName,type:"bar",stack:"住院天数",barMaxWidth:"60",data:eval(_this2.illegal)}]};Chart.setOption(option)}else _this2.$message.error("请检查网络")})},selectOnchang:function(){var a=this;console.log(this.getAreaCode());var e=this.getAreaCode();console.log(e),__WEBPACK_IMPORTED_MODULE_0_axios___default()({method:"post",url:__WEBPACK_IMPORTED_MODULE_0_axios___default.a.PARK_API+"/xnhidc/backstage/loadddyy_zhuyuan_yiyuan",data:__WEBPACK_IMPORTED_MODULE_1_qs___default.a.stringify({yiyuandengji:this.grade,areaCode:e}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(e){if(e.data.success){var t=e.data.data;a.hospitalCodes=t}else a.$message.error("请检查网络")})},getCityChange:function(){var a=this;__WEBPACK_IMPORTED_MODULE_0_axios___default()({method:"post",url:__WEBPACK_IMPORTED_MODULE_0_axios___default.a.PARK_API+"/hospitalization/biz/analy/queryregion",params:{admincode:61,level:1}}).then(function(e){0==e.data.code?(a.cityoptions=e.data.data,a.getAreaCode()):a.$message.error("请检查网络")}).catch(function(a){})},cityChange:function(a){var e=this;this.area="",this.town="",__WEBPACK_IMPORTED_MODULE_0_axios___default()({method:"post",url:__WEBPACK_IMPORTED_MODULE_0_axios___default.a.PARK_API+"/hospitalization/biz/analy/queryregion",params:{admincode:a,level:2}}).then(function(a){0==a.data.code?(e.areaoptions=a.data.data,e.getAreaCode()):e.$message.error("请检查网络")})},areaChange:function(a){var e=this;this.town="",__WEBPACK_IMPORTED_MODULE_0_axios___default()({method:"post",url:__WEBPACK_IMPORTED_MODULE_0_axios___default.a.PARK_API+"/hospitalization/biz/analy/queryregion",params:{admincode:a,level:3}}).then(function(a){0==a.data.code?(e.townoptions=a.data.data,e.getAreaCode()):e.$message.error("请检查网络")})},getAreaCode:function(){var a;return a=null!=this.town&&""!=this.town?this.town:null!=this.area&&""!=this.area?this.area:null!=this.city&&""!=this.city?this.city:"",console.log(a),a},Chartselect:function(a){console.log(a);var e;if(e=this.illegaloptions.find(function(e){return e.value===a}),this.typeName=e.label,console.log(e.label),void 0!==this.alldataRemake){var t=document.getElementById("hosContainter"),i=echarts.init(t);i.showLoading({text:"加载加载加载....."}),i.setOption({title:{text:this.typeName,x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.alldataRemake.dataAxis,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:this.typeName,type:"bar",stack:"住院天数",barMaxWidth:"60",data:this.alldataRemake[this.illegal]}]}),i.hideLoading()}}},created:function(){this.getname(),this.yearselect(),this.getCityChange()}}},"vu/T":function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("fcqX"),o={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("div",{staticClass:"right-ctn-title"},[t("span",[a._v("日期方式选择：")]),a._v(" "),t("el-select",{attrs:{size:"mini",placeholder:"请选择日期方式"},on:{change:a.yearselect},model:{value:a.yearType,callback:function(e){a.yearType=e},expression:"yearType"}},a._l(a.yearTypeoptions,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.yearShow,expression:"yearShow"}]},[t("el-date-picker",{staticClass:"hosptDataSel",attrs:{size:"mini",type:"year","value-format":"yyyy",placeholder:"开始日期"},model:{value:a.startTime,callback:function(e){a.startTime=e},expression:"startTime"}}),a._v("-\n             "),t("el-date-picker",{staticClass:"hosptDataSel",attrs:{size:"mini",type:"year","value-format":"yyyy",placeholder:"结束日期"},model:{value:a.endTime,callback:function(e){a.endTime=e},expression:"endTime"}})],1),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.monthShow,expression:"monthShow"}]},[t("el-date-picker",{staticClass:"hosptDataSel",attrs:{size:"mini",type:"month","value-format":"yyyy-MM",placeholder:"开始日期"},model:{value:a.MsTime,callback:function(e){a.MsTime=e},expression:"MsTime"}}),a._v("-\n             "),t("el-date-picker",{staticClass:"hosptDataSel",attrs:{size:"mini",type:"month","value-format":"yyyy-MM",placeholder:"结束日期"},model:{value:a.MeTime,callback:function(e){a.MeTime=e},expression:"MeTime"}})],1),a._v(" "),t("el-select",{attrs:{size:"mini",placeholder:"请选择图表项目"},on:{change:a.Chartselect},model:{value:a.illegal,callback:function(e){a.illegal=e},expression:"illegal"}},a._l(a.illegaloptions,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.hospital,expression:"hospital"}]},[t("span",[a._v("医院等级：")]),a._v(" "),t("el-select",{attrs:{size:"mini",placeholder:"请选择医院等级"},on:{change:a.selectOnchang},model:{value:a.grade,callback:function(e){a.grade=e},expression:"grade"}},a._l(a.gradeoptions,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1),a._v(" "),t("el-select",{attrs:{size:"mini",placeholder:"请选择医院"},model:{value:a.hospitalCode,callback:function(e){a.hospitalCode=e},expression:"hospitalCode"}},a._l(a.hospitalCodes,function(a){return t("el-option",{key:a.value,attrs:{label:a.YYMC,value:a.YYBM}})}),1),a._v(" "),t("el-select",{attrs:{size:"mini",placeholder:"--选择市--"},on:{change:a.cityChange},model:{value:a.city,callback:function(e){a.city=e},expression:"city"}},a._l(a.cityoptions,function(a){return t("el-option",{key:a.value,attrs:{label:a.d20120,value:a.d20102}})}),1),a._v(" "),t("el-select",{attrs:{size:"mini",placeholder:"--选择区县--"},on:{change:a.areaChange},model:{value:a.area,callback:function(e){a.area=e},expression:"area"}},a._l(a.areaoptions,function(a){return t("el-option",{key:a.value,attrs:{label:a.d20120,value:a.d20102}})}),1),a._v(" "),t("el-select",{attrs:{size:"mini",placeholder:"--选择乡镇--"},model:{value:a.town,callback:function(e){a.town=e},expression:"town"}},a._l(a.townoptions,function(a){return t("el-option",{key:a.value,attrs:{label:a.d20120,value:a.d20102}})}),1)],1),a._v(" "),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"warning"},on:{click:a.getHostatic}},[t("i",{staticClass:"el-icon-search"}),a._v("\n             查询\n         ")])],1),a._v(" "),t("div",{staticClass:"chart"},[t("div",{style:{width:"100%",height:"470px"},attrs:{id:"hosContainter"}})])])},staticRenderFns:[]};var s=function(a){t("WU2i")},l=t("C7Lr")(i.a,o,!1,s,"data-v-7d7714b3",null);e.default=l.exports}});