webpackJsonp([5],{"+Vyv":function(t,e){},djvh:function(t,e){},rYZT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("6sKG"),i=a.n(l),n={name:"Medical",props:["medicalText"],data:function(){return{issueData:[],day:""}},methods:{getMedical:function(){var t=this;i()({method:"post",url:i.a.PARK_API+"/hospitalization/biz/rstdatordermsg/listMsg",params:{orderId:this.medicalText.orderId}}).then(function(e){0==e.data.code?t.issueData=e.data.list:t.$message.error(e.data.msg)}).catch(function(t){})},printBtn:function(){var t=document.getElementById("print").innerHTML,e=document.body.innerHTML;return document.body.innerHTML=t,window.print(),window.location.reload(),document.body.innerHTML=e,!1},timeFn:function(){var t=new Date(this.medicalText.outDate.replace(/-/g,"/")),e=new Date(this.medicalText.inDate.replace(/-/g,"/"));console.log(e),console.log(t);var a=t.getTime()-e.getTime(),l=Math.floor(a/864e5);this.day=l;var i=a%864e5,n=Math.floor(i/36e5),o=i%36e5,s=Math.floor(o/6e4),r=o%6e4,d=Math.round(r/1e3);console.log(" 相差 "+l+"天 "+n+"小时 "+s+" 分钟"+d+" 秒"),console.log(a+"时间差的毫秒数",l+"计算出相差天数",i+"计算天数后剩余的毫秒数",n+"计算出小时数",s+"计算相差分钟数",d+"计算相差秒数")}},created:function(){this.getMedical(),this.timeFn()}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.printBtn()}}},[t._v("打印")]),t._v(" "),a("div",{attrs:{id:"print"}},[a("h3",[t._v("个人异常信息表")]),t._v(" "),a("div",{staticClass:"biaotou"},[a("p",[t._v("医疗机构名称："),a("span",[t._v(t._s(t.medicalText.hospitalName))])]),t._v(" "),a("p",[t._v("医疗机构级别："),a("span",[t._v(t._s(t.medicalText.hospitalGrade))])]),t._v(" "),a("p",[t._v("结算日期："),a("span",[t._v(t._s(t.medicalText.balDate))])])]),t._v(" "),a("table",{staticClass:"ta",staticStyle:{margin:"auto"},attrs:{border:"1",cellspacing:"0",cellpadding:"1"}},[a("tr",{attrs:{align:"center"}},[a("td",[t._v("姓名")]),t._v(" "),a("td",[t._v(t._s(t.medicalText.name))]),t._v(" "),a("td",[t._v("性别")]),t._v(" "),a("td",[t._v(t._s(t.medicalText.gender))]),t._v(" "),a("td",[t._v("年龄")]),t._v(" "),a("td",[t._v(t._s(t.medicalText.age))]),t._v(" "),a("td",[t._v("身份证号")]),t._v(" "),a("td",[t._v(t._s(t.medicalText.idCard))])]),t._v(" "),a("tr",{attrs:{align:"center"}},[a("td",[t._v("合疗证号")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.medicalText.reimbNo))]),t._v(" "),a("td",[t._v("地址")]),t._v(" "),a("td",{attrs:{colspan:"4"}},[t._v(t._s(t.medicalText.address))])]),t._v(" "),a("tr",{attrs:{align:"center"}},[a("td",[t._v("诊断")]),t._v(" "),a("td",[t._v(t._s(t.medicalText.singleCodeName))]),t._v(" "),a("td",[t._v("医生姓名")]),t._v(" "),a("td",[t._v(t._s(t.medicalText.docName))]),t._v(" "),a("td",[t._v("住院总费用")]),t._v(" "),a("td",[t._v(t._s(t.medicalText.totalFee))]),t._v(" "),a("td",[t._v("住院天数")]),t._v(" "),a("td",[t._v(t._s(t.day))])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._l(t.issueData,function(e,l){return a("tr",{key:l,attrs:{align:"center"}},[a("td",{staticStyle:{width:"50px"}},[t._v(t._s(l+1))]),t._v(" "),a("td",[t._v(t._s(e.itemName))]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(e.message))]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(e.type))]),t._v(" "),a("td",[t._v(t._s(e.amount))]),t._v(" "),a("td",[t._v(t._s(e.sum))])])})],2),t._v(" "),a("br"),t._v(" "),a("br")])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"8"}},[this._v("    经中心审核，此病人住院病例存在以下问题：")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{attrs:{align:"center"}},[a("td",[t._v("序号")]),t._v(" "),a("td",[t._v("项目名称")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v("违规问题")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v("审核规则")]),t._v(" "),a("td",[t._v("违规金额（元）")]),t._v(" "),a("td",[t._v("异常个数")])])}]};var s=a("C7Lr")(n,o,!1,function(t){a("djvh")},"data-v-697854fd",null).exports,r=a("VD+p"),d={data:function(){return{medicalHome:"",medicalHomes:[],closingDates:[{value:"1",label:"结算日期"},{value:"2",label:"入院日期"},{value:"3",label:"出院日期"}],closingDate:"1",startTime:"",endTime:"",medicalData:[],otherData:[],total:0,currentPage:1,pageSize:12,medicalVisible:!1,day:"",days:[]}},methods:{handleCurrentChange:function(t){this.currentPage=t},medicalChange:function(t){this.pageSize=t},getMedical:function(){var t=this;localStorage.setItem("hometext","【住院-病案科室】"),i()({method:"post",url:i.a.PARK_API+"/hospitalization/biz/analy/querydepartmentpatient",data:{hospitalId:localStorage.getItem("othercode")},headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){if(0==e.data.code){t.medicalData=e.data.data,t.total=t.medicalData.length,t.medicalHomes=e.data.departlist;for(var a=0;a<=t.medicalData.length;a++){var l=new Date(t.medicalData[a].outDate.replace(/-/g,"/")),i=new Date(t.medicalData[a].inDate.replace(/-/g,"/")),n=l.getTime()-i.getTime(),o=Math.floor(n/864e5);t.day=o,t.days.push(t.day),console.log(t.days)}}else t.$message.error(e.data.msg)}).catch(function(t){})},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":r(a).format("YYYY-MM-DD")},dataChange:function(){var t=this;i()({method:"post",url:i.a.PARK_API+"/hospitalization/biz/analy/querydepartmentpatient",data:{hospitalId:localStorage.getItem("othercode"),outDept:this.medicalHome},headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){0==e.data.code?(t.medicalData=e.data.data,t.total=t.medicalData.length):t.$message.error(e.data.msg)}).catch(function(t){})},search:function(){var t=this,e={};1==this.closingDate?(e.startbaldate=this.startTime,e.endbaldate=this.endTime,e.hospitalId=localStorage.getItem("othercode"),e.outDept=this.medicalHome):2==this.closingDate?(e.startindate=this.startTime,e.endindate=this.endTime,e.hospitalId=localStorage.getItem("othercode"),e.outDept=this.medicalHome):3==this.closingDate&&(e.endoutdate=this.startTime,e.startoutdate=this.endTime,e.hospitalId=localStorage.getItem("othercode"),e.outDept=this.medicalHome),i()({method:"post",url:i.a.PARK_API+"/hospitalization/biz/analy/querydepartmentpatient",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){0==e.data.code?(t.medicalData=e.data.data,t.total=t.medicalData.length):t.$message.error(e.data.msg)}).catch(function(t){})},clear:function(){this.startTime="",this.endTime="",this.medicalHome="",this.getMedical()},handleClick:function(t){console.log(t),this.otherData=t,this.medicalVisible=!0}},components:{Medical:s},created:function(){this.getMedical()}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"right-ctn-title"},[a("span",[t._v("科室名称：")]),t._v(" "),a("el-select",{attrs:{size:"mini",placeholder:""},on:{change:t.dataChange},model:{value:t.medicalHome,callback:function(e){t.medicalHome=e},expression:"medicalHome"}},t._l(t.medicalHomes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t}})}),1),t._v(" "),a("el-select",{attrs:{size:"mini",placeholder:"结算日期"},model:{value:t.closingDate,callback:function(e){t.closingDate=e},expression:"closingDate"}},t._l(t.closingDates,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v("：\n            "),a("el-date-picker",{staticClass:"hosptDataSel",attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),t._v("-\n            "),a("el-date-picker",{staticClass:"hosptDataSel",attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.search}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.clear}},[t._v("重置")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.medicalData.slice((t.currentPage-1)*t.pageSize,t.currentPage*t.pageSize),border:"",height:"500"}},[a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gender",label:"性别",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"idCard",label:"身份证",width:"180px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"outDept",label:"科室",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"docName",label:"医生姓名",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalFee",label:"总费用",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"inDate",label:"入院日期",width:"100px",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"outDate",label:"出院日期",width:"100px",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"balDate",label:"结算日期",width:"100px",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"hospitalName",label:"医院名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"地址"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClick(e.row)}}},[t._v("详细信息")])]}}])})],1),t._v(" "),a("div",{staticClass:"block",attrs:{id:"fenye"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-sizes":[10,20,30],"page-size":t.pageSize,"current-page":t.currentPage,total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.medicalChange}})],1),t._v(" "),t.medicalVisible?a("el-dialog",{attrs:{title:"",visible:t.medicalVisible,width:"80%",top:"20px"},on:{"update:visible":function(e){t.medicalVisible=e}}},[a("Medical",{attrs:{medicalText:t.otherData}})],1):t._e()],1)])},staticRenderFns:[]};var m=a("C7Lr")(d,c,!1,function(t){a("+Vyv")},"data-v-9ca45b94",null);e.default=m.exports}});