webpackJsonp([34],{A7wh:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("a3Yh"),s=e.n(i),o=e("6sKG"),n=e.n(o),r=e("6iV/"),l=e.n(r),d=e("P8yQ"),c={data:function(){return{yearVal:"",dataShadow:[],yMax:500,flag:"",areaCodeId:"",dataAxis:""}},methods:{getname:function(){localStorage.setItem("hometext","【基金使用情况分析】")},getUse:function(){var t=this;if(""!=this.yearVal){var a=document.getElementById("useContainter");d.init(a).showLoading({text:"加载加载加载....."}),n()({method:"post",url:n.a.PARK_API+"/xnhidc/backstage/loadPicData_jijinsy",data:l.a.stringify({nd:this.yearVal}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(a){console.log(a),a.data.success?t.useStatic(a.data.data):t.$message.error(a.data.error)})}else this.$message.warning("参合年度不能为空！")},useStatic:function(t){var a;this.flag=1;var e=this,i=document.getElementById("useContainter"),o=d.init(i);o.showLoading({text:"加载加载加载....."}),d.dispose(o),o=d.init(i);for(var n=[],r=0,l=[],c=[],h=[],g=0;g<t.length;g++)t[g].nd!=this.yearVal?(c[r]=t[g].jjsy,r++):(n[g]=t[g].dq,l[g]=t[g].jjsy,h[g]=t[g].dqbm);for(var y=0;y<l.length;y++)this.dataShadow.push(this.yMax);var x=(a={title:{text:"各区县基金使用情况",textAlign:"left"},legend:{data:["上年度","本年度"]},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0}},s()(a,"toolbox",{show:!0,orient:"horizontal",left:"right",top:"top",feature:{mark:{show:!0},saveAsImage:{show:!0},magicType:{show:!0,type:["line","bar"]},restore:{show:!0}}}),s()(a,"xAxis",[{type:"category",data:n,axisTick:{alignWithLabel:!0},axisLabel:{interval:0,margin:5,rotate:45,textStyle:{color:"#222"}}}]),s()(a,"yAxis",[{type:"value"}]),s()(a,"dataZoom",[{show:!0,xAxisIndex:0,start:0,end:100,type:"slider",bottom:"1%"}]),s()(a,"series",[{name:"上年度",type:"bar",data:c,barMaxWidth:"50"},{name:"本年度",type:"bar",data:l,barMaxWidth:"50"}]),a);o.setOption(x),o.hideLoading(),o.on("click",function(t){e.areaCodeId=h[t.dataIndex],e.dataAxis=n[t.dataIndex],e.useStaticPic()})},useStaticPic:function(t,a){var e=this;this.flag=2;var i=document.getElementById("useContainter"),o=d.init(i);o.showLoading({text:"加载加载加载....."});var r=this;n()({method:"post",url:n.a.PARK_API+"/xnhidc/backstage/loadPicData_jijinsy",data:l.a.stringify({nd:this.yearVal,areacode:this.areaCodeId}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(t){if(t.data.success){var a,n=t.data.data;o.hideLoading();for(var l=[],c=0,h=[],g=[],y=[],x=0;x<n.length;x++)n[x].nd!=e.yearVal?(g[c]=n[x].jjsy,c++):(l[x]=n[x].dq,h[x]=n[x].jjsy,y[x]=n[x].dqbm);d.dispose(o),o=d.init(i);var p=(a={title:{text:e.dataAxis+"基金使用情况",textAlign:"left"},legend:{data:["上年度","本年度"]},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0}},s()(a,"toolbox",{show:!0,orient:"horizontal",left:"right",top:"top",feature:{mark:{show:!0},saveAsImage:{show:!0},magicType:{show:!0,type:["line","bar"]},restore:{show:!0}}}),s()(a,"xAxis",[{type:"category",data:l,axisTick:{alignWithLabel:!0},axisLabel:{interval:0,margin:5,rotate:45,textStyle:{color:"#222"}}}]),s()(a,"yAxis",[{type:"value"}]),s()(a,"dataZoom",[{show:!0,xAxisIndex:0,start:0,end:100,type:"slider",bottom:"1%"}]),s()(a,"series",[{name:"上年度",type:"bar",data:g,barMaxWidth:"50"},{name:"本年度",type:"bar",data:h,barMaxWidth:"50"}]),a);o.setOption(p,!0),o.on("click",function(t){r.getbasedata(y[t.dataIndex],l[t.dataIndex])})}else e.$message.error("请检查网络")})},getbasedata:function(t,a){var e=this;this.flag=3,console.log(t);var i=this,s=document.getElementById("useContainter"),o=d.init(s);o.showLoading({text:"加载加载加载....."}),n()({method:"post",url:n.a.PARK_API+"/xnhidc/backstage/loadPicData_jijinsy",data:l.a.stringify({nd:this.yearVal,areacode:t}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(t){if(t.data.success){var n=t.data.data;o.hideLoading();for(var r=[],l=[],c=[],h=0,g=0;g<n.length;g++)n[g].nd!=e.yearVal?(c[h]=n[g].jjsy,h++):(r[g]=n[g].dq,l[g]=n[g].jjsy);d.dispose(o),o=d.init(s);var y={title:{text:a+"基金使用情况",textAlign:"left"},legend:{data:["上年度","本年度"]},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:r,axisTick:{alignWithLabel:!0},axisLabel:{interval:0,margin:5,rotate:45,textStyle:{color:"#222"}}}],yAxis:[{type:"value"}],dataZoom:[{show:!0,xAxisIndex:0,start:0,end:100,type:"slider",bottom:"1%"}],series:[{name:"上年度",type:"bar",barWidth:"20%",data:c,barMaxWidth:"10"},{name:"本年度",type:"bar",barWidth:"20%",data:l,barMaxWidth:"10"}]};o.setOption(y,!0),o.on("click",function(t){i.getUse()})}else e.$message.error("请检查网络")})},backto:function(){""==this.flag?this.$message.warning("亲！已经是首层了"):1==this.flag?this.$message.warning("已经是第一级了"):2==this.flag?(this.getUse(),console.log(this.flag)):3==this.flag&&this.useStaticPic()}},created:function(){this.getname()}},h={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"right-ctn-title"},[e("span",[t._v("参合年度:")]),t._v(" "),e("el-date-picker",{attrs:{type:"year","value-format":"yyyy",placeholder:"选择年"},model:{value:t.yearVal,callback:function(a){t.yearVal=a},expression:"yearVal"}}),t._v(" "),e("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"warning"},on:{click:t.getUse}},[e("i",{staticClass:"el-icon-search"})])],1),t._v(" "),e("div",{staticClass:"chart"},[e("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"warning"},on:{click:t.backto}},[e("i",{staticClass:"el-icon-back"})]),t._v(" "),e("div",{style:{width:"100%",height:"470px"},attrs:{id:"useContainter"}})],1)])},staticRenderFns:[]};var g=e("C7Lr")(c,h,!1,function(t){e("D0zm")},"data-v-2010fcfa",null);a.default=g.exports},D0zm:function(t,a){}});