webpackJsonp([38],{"9LCH":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("HzJ8"),i=a.n(l),s=a("6sKG"),o=a.n(s),n={data:function(){return{foulData:[],upShow:!1,ruleList:[],hospitalCode:"2",hospitalCodes:[{value:"1",label:"医院编码"},{value:"2",label:"医疗机构"}],closingDate:"1",closingDates:[{value:"1",label:"结算日期"},{value:"2",label:"入院日期"},{value:"3",label:"出院日期"}],illegal:"",illegaloptions:[{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"}],grade:"",gradeoptions:[{value:"一级医院",label:"一级医院"},{value:"二级医院",label:"二级医院"},{value:"三级医院",label:"三级医院"}],rule:"",code:"",foultotal:0,currentPage:1,pageSize:12,startTime:"",endTime:"",hospitalId:""}},methods:{handleCurrentChange:function(e){this.currentPage=e},foulSizeChange:function(e){this.pageSize=e},rowClass:function(e){e.row,e.rowIndex;return"border-bottom:2px solid #ccc;border-top:2px solid #ccc"},getFoul:function(){var e=this;localStorage.setItem("hometext","【住院-违规统计】"),o()({method:"post",url:o.a.PARK_API+"/hospitalization/biz/analy/queryruleviolationanaly",data:{regionId:localStorage.getItem("regionId")},headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){0==t.data.code?(e.foulData=t.data.data,e.foultotal=e.foulData.length):e.$message.error(t.data.msg)}).catch(function(e){})},ruleFocus:function(){var e=this;o()({method:"post",url:o.a.PARK_API+"/hospitalization/biz/rstdatordermsg/listMsgmessage",params:{type:""}}).then(function(t){0==t.data.code&&""!=t.data.data?(console.log(t.data.data),e.ruleList=t.data.data,e.upShow=!0):e.$message("无此项目")}).catch(function(e){})},ruleBlur:function(){this.upShow=!1},Liactive:function(e){this.rule=e.path[0].innerHTML},queryHosSearch:function(e,t){var a=this,l=[{}];o()({method:"post",url:o.a.PARK_API+"/hospitalization/biz/d101/list",params:{param:e.toUpperCase()}}).then(function(e){if(0==e.data.code&&""!=e.data.list){var s=!0,o=!1,n=void 0;try{for(var r,d=i()(e.data.list);!(s=(r=d.next()).done);s=!0){var h=r.value;"1"==a.hospitalCode?h.value=h.d10101:h.value=h.d10102}}catch(e){o=!0,n=e}finally{try{!s&&d.return&&d.return()}finally{if(o)throw n}}l=e.data.list,t(l)}else a.$message("无此医院")}).catch(function(e){})},handleSelect:function(e){console.log(e),this.hospitalId=e.d10101},foulSearch:function(){var e=this,t={};1==this.closingDate&&1==this.hospitalCode?(t.startindate="",t.endindate="",t.endoutdate="",t.startoutdate="",t.startbaldate=this.startTime,t.endbaldate=this.endTime,t.hospitalId=this.code,t.message=this.rule,t.severity=this.illegal,t.hospitalGrade=this.grade,t.regionId=localStorage.getItem("regionId")):1==this.closingDate&&2==this.hospitalCode?(t.startindate="",t.endindate="",t.endoutdate="",t.startoutdate="",t.startbaldate=this.startTime,t.endbaldate=this.endTime,t.hospitalId=this.hospitalId,t.message=this.rule,t.severity=this.illegal,t.hospitalGrade=this.grade):2==this.closingDate&&1==this.hospitalCode?(t.startindate=this.startTime,t.endindate=this.endTime,t.endoutdate="",t.startoutdate="",t.startbaldate="",t.endbaldate="",t.hospitalId=this.code,t.message=this.rule,t.severity=this.illegal,t.hospitalGrade=this.grade):2==this.closingDate&&2==this.hospitalCode?(t.startindate=this.startTime,t.endindate=this.endTime,t.endoutdate="",t.startoutdate="",t.startbaldate="",t.endbaldate="",t.hospitalId=this.hospitalId,t.message=this.rule,t.severity=this.illegal,t.hospitalGrade=this.grade):3==this.closingDate&&1==this.hospitalCode?(t.startindate="",t.endindate="",t.endoutdate=this.startTime,t.startoutdate=this.endTime,t.startbaldate="",t.endbaldate="",t.hospitalId=this.code,t.message=this.rule,t.severity=this.illegal,t.hospitalGrade=this.grade):3==this.closingDate&&2==this.hospitalCode&&(t.startindate="",t.endindate="",t.endoutdate=this.startTime,t.startoutdate=this.endTime,t.startbaldate="",t.endbaldate="",t.hospitalId=this.hospitalId,t.message=this.rule,t.severity=this.illegal,t.hospitalGrade=this.grade),o()({method:"post",url:o.a.PARK_API+"/hospitalization/biz/analy/queryruleviolationanaly",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){0==t.data.code?(console.log(t.data.data),e.foulData=t.data.data,e.foultotal=e.foulData.length):e.$message.error(t.data.msg)}).catch(function(e){})},foulClear:function(){this.rule="",this.grade="",this.code="",this.illegal="",this.startTime="",this.endTime="",this.getFoul()},foulDownload:function(){1==this.closingDate&&1==this.hospitalCode?location=o.a.PARK_API+"/hospitalization/biz/analy/queryruleviolationanalyExcel?startbaldate="+this.startTime+"&endbaldate="+this.endTime+"&hospitalId="+this.code+"&message="+this.rule+"&severity="+this.illegal+"&hospitalGrade="+this.grade:1==this.closingDate&&2==this.hospitalCode?location=o.a.PARK_API+"/hospitalization/biz/analy/queryruleviolationanalyExcel?startbaldate="+this.startTime+"&endbaldate="+this.endTime+"&hospitalId="+this.hospitalId+"&message="+this.rule+"&severity="+this.illegal+"&hospitalGrade="+this.grade:2==this.closingDate&&1==this.hospitalCode?location=o.a.PARK_API+"/hospitalization/biz/analy/queryruleviolationanalyExcel?startindate="+this.startTime+"&endindate="+this.endTime+"&hospitalId="+this.code+"&message="+this.rule+"&severity="+this.illegal+"&hospitalGrade=="+this.grade:2==this.closingDate&&2==this.hospitalCode?location=o.a.PARK_API+"/hospitalization/biz/analy/queryruleviolationanalyExcel?startindate="+this.startTime+"&endindate="+this.endTime+"&hospitalId="+this.hospitalId+"&message="+this.rule+"&severity="+this.illegal+"&hospitalGrade="+this.grade:3==this.closingDate&&1==this.hospitalCode?location=o.a.PARK_API+"/hospitalization/biz/analy/queryruleviolationanalyExcel?endindate="+this.startTime+"&endoutdate="+this.endTime+"&hospitalId="+this.code+"&message="+this.rule+"&severity="+this.illegal+"&hospitalGrade="+this.grade:3==this.closingDate&&2==this.hospitalCode&&(location=o.a.PARK_API+"/hospitalization/biz/analy/queryruleviolationanalyExcel?endindate="+this.startTime+"&endoutdate="+this.endTime+"&hospitalId="+this.hospitalId+"&message="+this.rule+"&severity="+this.illegal+"&hospitalGrade="+this.grade)}},created:function(){this.getFoul()}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"right-ctn-title"},[a("span",[e._v("规则名：")]),e._v(" "),a("el-input",{staticStyle:{width:"240px",height:"30px"},attrs:{size:"mini",placeholder:"请输入内容"},on:{focus:e.ruleFocus,blur:e.ruleBlur},model:{value:e.rule,callback:function(t){e.rule=t},expression:"rule"}}),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.upShow,expression:"upShow"}],staticClass:"upText"},e._l(e.ruleList,function(t,l){return a("li",{key:l,staticClass:"Liactive",on:{mousedown:e.Liactive}},[e._v(e._s(t))])}),0),e._v(" "),a("span",[e._v("违规等级：")]),e._v(" "),a("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.illegal,callback:function(t){e.illegal=t},expression:"illegal"}},e._l(e.illegaloptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-select",{attrs:{size:"mini",placeholder:""},model:{value:e.hospitalCode,callback:function(t){e.hospitalCode=t},expression:"hospitalCode"}},e._l(e.hospitalCodes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v("：\n           "),a("el-autocomplete",{attrs:{"fetch-suggestions":e.queryHosSearch,placeholder:"请输入内容"},on:{select:e.handleSelect},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e._v(" "),a("span",[e._v("医院等级：")]),e._v(" "),a("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.grade,callback:function(t){e.grade=t},expression:"grade"}},e._l(e.gradeoptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("br"),e._v(" "),a("el-select",{attrs:{size:"mini",placeholder:"结算日期"},model:{value:e.closingDate,callback:function(t){e.closingDate=t},expression:"closingDate"}},e._l(e.closingDates,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v("：\n             "),a("el-date-picker",{staticClass:"hosptDataSel",attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),e._v("-\n             "),a("el-date-picker",{staticClass:"hosptDataSel",attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"primary"},on:{click:e.foulSearch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.foulClear}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.foulDownload}},[e._v("导出")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.foulData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"header-cell-style":e.rowClass,height:"580",border:""}},[a("el-table-column",{attrs:{prop:"hospitalGrade",label:"医院等级",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hospitalName",label:"医院名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"message",label:"规则"}}),e._v(" "),a("el-table-column",{attrs:{prop:"severity",label:"违规等级"}}),e._v(" "),a("el-table-column",{attrs:{prop:"casenum",label:"病例数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"examount",label:"违规金额(元)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realamount",label:"实际违规金额"}})],1),e._v(" "),a("div",{staticClass:"block",attrs:{id:"fenye"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pageSize,total:e.foultotal},on:{"current-change":e.handleCurrentChange,"size-change":e.foulSizeChange}})],1)],1)])},staticRenderFns:[]};var d=a("C7Lr")(n,r,!1,function(e){a("xxTH")},"data-v-17fb3655",null);t.default=d.exports},xxTH:function(e,t){}});