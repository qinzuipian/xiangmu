webpackJsonp([6],{"5vEE":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("6sKG"),i=a.n(o),s=a("6iV/"),l=a.n(s),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"top"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,center:""}},[a("el-table-column",{attrs:{prop:"name",width:"100","show-overflow-tooltip":"",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",width:"50","show-overflow-tooltip":"",label:"性别",formatter:t.formatRole}}),t._v(" "),a("el-table-column",{attrs:{prop:"idCard","show-overflow-tooltip":"",label:"身份证号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"hlzh","show-overflow-tooltip":"",label:"合疗证号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"personType","show-overflow-tooltip":"",width:"100",label:"人员类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel","show-overflow-tooltip":"",width:"120",label:"电话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address","show-overflow-tooltip":"",label:"地址"}})],1),t._v(" "),a("div",{staticClass:"block",attrs:{id:"fenye"}},[a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next","current-page":t.currentPage,total:t.total},on:{"current-change":t.handlePage}})],1)],1)])},staticRenderFns:[]};var r=a("C7Lr")({props:["tableData","total","code"],data:function(){return{currentPage:1}},methods:{indexMethod:function(t){return 1*t+1},handlePage:function(t){this.$emit("handleCurrentChange",t)},formatRole:function(t,e){return"1"==t.sex?"男":"2"==t.sex?"女":"其他"}}},n,!1,function(t){a("b8qP")},"data-v-5e7bef1f",null).exports,c=a("P8yQ"),h={data:function(){return{yearVal:"",dataShadow:[],yMax:500,addVisible:!1,tableData:[],total:0,code:"",flag:"",areaCodeId:"",listShow:!1,chartShow:!0,currentPage:1,name:"",hlzh:"",isSearch:!1,isPage:!1}},methods:{getname:function(){localStorage.setItem("hometext","【参合人员基本信息】")},getPerson:function(){var t=this;this.flag=1;var e=this;if(""!=this.yearVal){var a=document.getElementById("container"),o=c.init(a);o.showLoading({text:"加载加载加载....."}),i()({method:"post",url:i.a.PARK_API+"/xnhidc/backstage/loadPicData",data:l.a.stringify({year:this.yearVal,level:"6"}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(i){if(console.log(i.data.success),i.data.success){o.hideLoading();var s=i.data.data;c.dispose(o),o=c.init(a);for(var l=[],n=[],r=[],h=0;h<s.length;h++)l[h]=s[h].name,n[h]=s[h].pvalue,r[h]=s[h].areaCode,console.log(l[h]);for(var d=0;d<n.length;d++)t.dataShadow.push(t.yMax);var p={title:{text:"参合人员情况分析",subtext:"              (县级)"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{show:!0,orient:"horizontal",left:"right",top:"top",feature:{mark:{show:!0},saveAsImage:{show:!0},magicType:{show:!0,type:["line","bar"]},restore:{show:!0}}},xAxis:[{type:"category",data:l,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"参合人数",type:"bar",barWidth:"10%",label:{normal:{show:!0,position:"inside"}},data:n}]};o.on("click",function(t){e.areaCodeId=r[t.dataIndex],e.areaCodeLoad()}),o.setOption(p)}else t.$message.error(i.data.error)}).catch(function(t){})}else this.$message.warning("参合年度不能为空！")},areaCodeLoad:function(){this.flag=2;var t=document.getElementById("container"),e=c.init(t);e.showLoading({text:"加载加载加载....."});var a=this;i()({method:"post",url:i.a.PARK_API+"/xnhidc/backstage/loadPicData",data:l.a.stringify({sdate:this.yearVal+"-01-01",edate:this.yearVal+"-01-01",aeracode:this.areaCodeId,level:"9"}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(o){if(o.data.success){e.hideLoading();for(var i=o.data.data,s=[],l=[],n=[],r=0;r<i.length;r++){s[r]=i[r].name,l[r]=i[r].pvalue,n[r]=i[r].areaCode,c.dispose(e),e=c.init(t);var h={title:{text:"参合人员情况分析",subtext:"(乡镇)"},color:["#83bff6"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{show:!0,orient:"horizontal",left:"right",top:"top",feature:{mark:{show:!0},saveAsImage:{show:!0},magicType:{show:!0,type:["line","bar"]},restore:{show:!0}}},xAxis:[{type:"category",data:s,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"参合人数",type:"bar",label:{normal:{show:!0,position:"inside"}},itemStyle:{normal:{color:new c.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},emphasis:{color:new c.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}},data:l}]};e.setOption(h,!0),e.on("click",function(t){a.loadStaticPic3(n[t.dataIndex])})}}})},loadStaticPic3:function(t){this.flag=3,console.log(t);var e=this,a=document.getElementById("container"),o=c.init(a);o.showLoading({text:"加载加载加载....."}),i()({method:"post",url:i.a.PARK_API+"/xnhidc/backstage/loadPicData",data:l.a.stringify({sdate:this.yearVal+"-01-01",edate:this.yearVal+"-01-01",aeracode:t,level:"12"}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(t){if(t.data.success){o.hideLoading();for(var i=t.data.data,s=[],l=[],n=[],r=0;r<i.length;r++)s[r]=i[r].name,l[r]=i[r].pvalue,n[r]=i[r].areaCode;c.dispose(o),o=c.init(a);var h={title:{text:"参合人员情况分析",subtext:"(乡村)"},color:["#83bff6"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{show:!0,orient:"horizontal",left:"right",top:"top",feature:{mark:{show:!0},saveAsImage:{show:!0},magicType:{show:!0,type:["line","bar"]},restore:{show:!0}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:s,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"参合人数",type:"bar",label:{normal:{show:!0,position:"inside"}},itemStyle:{emphasis:{color:new c.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}},data:l}]};o.on("click",function(t){e.presonList(n[t.dataIndex])}),o.setOption(h,!0)}})},presonList:function(t){var e=this;console.log(t),this.code=t,i()({method:"post",url:i.a.PARK_API+"/xnhidc/backstage/presonDataList",data:l.a.stringify({aeracode:this.code}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(t){console.log(t),e.tableData=t.data.rows,e.total=t.data.total,e.addVisible=!0})},backto:function(){""==this.flag?this.$message.warning("亲！已经是首层了"):1==this.flag?this.$message.warning("已经是第一级了"):2==this.flag?(this.getPerson(),console.log(this.flag)):3==this.flag&&this.areaCodeLoad()},handleCurrentChange:function(t){var e=this;console.log(t),i()({method:"post",url:i.a.PARK_API+"/xnhidc/backstage/presonDataList",data:l.a.stringify({aeracode:this.code,page:t,rows:10}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(t){console.log(t),e.tableData=t.data.rows})},formatRole:function(t,e){return"1"==t.sex?"男":"2"==t.sex?"女":"其他"},getDataList:function(t){var e,a=this;this.listShow=!0,this.chartShow=!1,e=1==this.isPage?t:1,i()({method:"post",url:i.a.PARK_API+"/xnhidc/backstage/presonDataList",data:l.a.stringify({page:e,rows:10}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(t){console.log(t),a.tableData=t.data.rows,a.total=t.data.total})},handledataPage:function(t){this.isPage=!0,1==this.isSearch?this.tableSearch(t):this.getDataList(t)},getChartshow:function(){this.listShow=!1,this.chartShow=!0},tableSearch:function(t){var e,a=this;this.isSearch=!0,e=isNaN(t)?1:t,i()({method:"post",url:i.a.PARK_API+"/xnhidc/backstage/presonDataList",data:l.a.stringify({page:e,rows:10,name:this.name,hlzh:this.hlzh}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(t){console.log(t),a.tableData=t.data.rows,a.total=t.data.total})},clearSearch:function(){this.getDataList(1),this.name="",this.hlzh=""}},components:{persple:r},created:function(){this.getname()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.chartShow,expression:"chartShow"}],staticClass:"right-ctn-title"},[a("span",[t._v("参合年度:")]),t._v(" "),a("el-date-picker",{attrs:{type:"year","value-format":"yyyy",placeholder:"选择年"},model:{value:t.yearVal,callback:function(e){t.yearVal=e},expression:"yearVal"}}),t._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"success"},on:{click:t.getPerson}},[a("i",{staticClass:"el-icon-search"}),t._v("\n            查询统计\n        ")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"success"},on:{click:t.getDataList}},[t._v("\n                查看数据列表\n        ")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}]},[a("div",{staticClass:"right-ctn-title"},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请输入姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请输入合疗证号"},model:{value:t.hlzh,callback:function(e){t.hlzh=e},expression:"hlzh"}}),t._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"success"},on:{click:t.tableSearch}},[t._v("\n              搜索\n          ")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"warning"},on:{click:t.clearSearch}},[t._v("\n              重置\n          ")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"success"},on:{click:t.getChartshow}},[t._v("\n              退出\n          ")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.tableData,center:"",border:"",height:"490"}},[a("el-table-column",{attrs:{prop:"name",width:"100","show-overflow-tooltip":"",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",width:"50","show-overflow-tooltip":"",label:"性别",formatter:t.formatRole}}),t._v(" "),a("el-table-column",{attrs:{prop:"idCard","show-overflow-tooltip":"",label:"身份证号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"hlzh","show-overflow-tooltip":"",label:"合疗证号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"personType","show-overflow-tooltip":"",width:"100",label:"人员类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel","show-overflow-tooltip":"",width:"120",label:"电话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address","show-overflow-tooltip":"",label:"地址"}})],1),t._v(" "),a("div",{staticClass:"block",attrs:{id:"fenye"}},[a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next",total:t.total},on:{"current-change":t.handledataPage}})],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.chartShow,expression:"chartShow"}],staticClass:"chart"},[a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"success"},on:{click:t.backto}},[a("i",{staticClass:"el-icon-back"})]),t._v(" "),a("div",{style:{width:"100%",height:"470px"},attrs:{id:"container"}})],1),t._v(" "),t.addVisible?a("el-dialog",{attrs:{title:"("+this.code+")参合人员详细信息",visible:t.addVisible,width:"76%",top:"60px"},on:{"update:visible":function(e){t.addVisible=e}}},[a("persple",{attrs:{tableData:t.tableData,total:t.total,code:t.code},on:{handleCurrentChange:t.handleCurrentChange}})],1):t._e()],1)},staticRenderFns:[]};var p=a("C7Lr")(h,d,!1,function(t){a("wDjK")},"data-v-6237d0c7",null);e.default=p.exports},b8qP:function(t,e){},wDjK:function(t,e){}});