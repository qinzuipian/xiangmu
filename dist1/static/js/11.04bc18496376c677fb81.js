webpackJsonp([11],{HyQz:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__=__webpack_require__("a3Yh"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__),__WEBPACK_IMPORTED_MODULE_1_axios__=__webpack_require__("6sKG"),__WEBPACK_IMPORTED_MODULE_1_axios___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__),__WEBPACK_IMPORTED_MODULE_2_qs__=__webpack_require__("6iV/"),__WEBPACK_IMPORTED_MODULE_2_qs___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_qs__),echarts=__webpack_require__("P8yQ");__webpack_exports__.a={data:function(){return{foulData:[],ruleList:[],startTime:"",endTime:"",illegal:"",illegaloptions:[{value:"datazyzongtianshu",label:"住院总天数"},{value:"datashoushurenci",label:"手术人次"},{value:"datazyzrenci",label:"住院总人次"},{value:"datazyzrenshu",label:"住院总人数"},{value:"datazyrjtianshu",label:"住院人均天数"},{value:"datazylfeiyong",label:"住院总医疗费用"},{value:"datazrjfeiyong",label:"住院总人均费用"},{value:"dataypfeiyong",label:"住院药品费用"},{value:"datazlfeiyong",label:"住院诊疗费用"},{value:"datazffeiyong",label:"住院自费费用"},{value:"datakbjine",label:"住院可报金额"},{value:"databxjine",label:"住院报销金额"},{value:"dataqfx",label:"住院起付线"},{value:"datafdrs",label:"住院到达封顶人数"}],grade:" ",gradeoptions:[{value:"",label:"全部"},{value:"11",label:"一级医院"},{value:"21",label:"二级医院"},{value:"31",label:"三级医院"}],hospitalCode:"",hospitalCodes:[],city:"",cityoptions:[],area:"",areaoptions:[],town:"",townoptions:[],typeName:"",alldataRemake:"",flag:"",areaCodeId:"",areaName:"",hospital:!1,yiyuancode:""}},methods:{getname:function(){localStorage.setItem("hometext","【住院补偿情况分析（医院）】"),1==localStorage.getItem("limited")?this.hospital=!0:2==localStorage.getItem("limited")&&(this.hospital=!1)},getHostatic:function getHostatic(){var _this2=this;this.flag=1;var id=this.getAreaCode(),_this=this,dom=document.getElementById("hosContainter"),Chart=echarts.init(dom),grade;Chart.showLoading({text:"加载加载加载....."}),1==localStorage.getItem("limited")?(this.yiyuancode=this.hospitalCode,grade=this.grade):2==localStorage.getItem("limited")&&(this.yiyuancode=localStorage.getItem("othercode"),grade=""),__WEBPACK_IMPORTED_MODULE_1_axios___default()({method:"post",url:__WEBPACK_IMPORTED_MODULE_1_axios___default.a.PARK_API+"/xnhidc/backstage/loadddyy_zhuyuan",data:__WEBPACK_IMPORTED_MODULE_2_qs___default.a.stringify({sdate:this.startTime,edate:this.endTime,yiyuandengji:grade,yiyuanCode:this.yiyuancode,areaCode:id}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(res){if(res.data.success){Chart.hideLoading();var echarts_date=res.data.data;echarts.dispose(Chart),Chart=echarts.init(dom);for(var dataAxis=[],datazyzongtianshu=[],datashoushurenci=[],datazyzrenci=[],datazyzrenshu=[],datazyrjtianshu=[],datazylfeiyong=[],datazrjfeiyong=[],dataypfeiyong=[],datazlfeiyong=[],datazffeiyong=[],datakbjine=[],databxjine=[],dataqfx=[],datafdrs=[],areaCode=[],i=0;i<echarts_date.length;i++)dataAxis[i]=echarts_date[i].医院名称,areaCode[i]=echarts_date[i].YYBM,datazyzongtianshu[i]=echarts_date[i].住院总天数,datashoushurenci[i]=echarts_date[i].手术人次,datazyzrenci[i]=echarts_date[i].住院总人次,datazyzrenshu[i]=echarts_date[i].住院总人数,datazyrjtianshu[i]=echarts_date[i].人均住院天数,datazylfeiyong[i]=echarts_date[i].住院总医疗费用,datazrjfeiyong[i]=echarts_date[i].住院总人均费用,dataypfeiyong[i]=echarts_date[i].住院药品费用,datazlfeiyong[i]=echarts_date[i].住院诊疗费用,datazffeiyong[i]=echarts_date[i].住院自费费用,datakbjine[i]=echarts_date[i].住院可报金额,databxjine[i]=echarts_date[i].住院报销金额,dataqfx[i]=echarts_date[i].住院起付线,datafdrs[i]=echarts_date[i].住院到达封顶人数;var dataRemake={};for(var name in echarts_date[0])dataRemake.dataAxis=dataAxis,dataRemake.datazyzongtianshu=datazyzongtianshu,dataRemake.datashoushurenci=datashoushurenci,dataRemake.datazyzrenci=datazyzrenci,dataRemake.datazyzrenshu=datazyzrenshu,dataRemake.datazyrjtianshu=datazyrjtianshu,dataRemake.datazylfeiyong=datazylfeiyong,dataRemake.datazrjfeiyong=datazrjfeiyong,dataRemake.dataypfeiyong=dataypfeiyong,dataRemake.datazlfeiyong=datazlfeiyong,dataRemake.datazffeiyong=datazffeiyong,dataRemake.datakbjine=datakbjine,dataRemake.databxjine=databxjine,dataRemake.dataqfx=dataqfx,dataRemake.datafdrs=datafdrs;_this2.alldataRemake=dataRemake;var option={title:{text:_this2.typeName,x:"center"},color:["#2099aa"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{show:!0,feature:{mark:{show:!0},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:dataAxis,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],dataZoom:[{show:!0,yAxisIndex:0,filterMode:"empty",width:30,height:"80%",showDataShadow:!1,left:"97%"}],series:[{name:_this2.typeName,type:"bar",stack:"住院天数",barMaxWidth:"60",data:eval(_this2.illegal)}]};Chart.setOption(option),Chart.on("click",function(e){_this.areaCodeId=areaCode[e.dataIndex],_this.areaName=e.name,_this.areaLoading()})}else _this2.$message.error("请检查网络")})},areaLoading:function(){var e,a=this;if(this.flag=2,"住院药品费用"==this.typeName)e="yp";else{if("住院诊疗费用"!=this.typeName)return;e="zl"}var t=document.getElementById("hosContainter"),i=echarts.init(t);i.showLoading({text:"加载加载加载....."});var _=this;__WEBPACK_IMPORTED_MODULE_1_axios___default()({method:"post",url:__WEBPACK_IMPORTED_MODULE_1_axios___default.a.PARK_API+"/xnhidc/backstage/loadddyy_zhuyuan_yaoping",data:__WEBPACK_IMPORTED_MODULE_2_qs___default.a.stringify({sdate:this.startTime,edate:this.endTime,yiyuanCode:this.areaCodeId,option:e}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(e){if(e.data.success){i.hideLoading();var s=e.data.data;echarts.dispose(i),i=echarts.init(t);for(var o=[],r=[],l=0;l<s.length;l++){switch(s[l].XMLB){case"A":o[l]="西药";break;case"B":o[l]="中成药";break;case"C":o[l]="中草药";break;case"D":o[l]="检查";break;case"E":o[l]="治疗";break;case"F":o[l]="护理";break;case"G":o[l]="手术";break;case"M":o[l]="床位";break;case"其它":o[l]="其它"}r[l]=s[l].ZJE}var n={title:{text:a.areaName,x:"center"},color:["#83bff6"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:o,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],toolbox:{show:!0,feature:{mark:{show:!0},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},dataZoom:[{show:!0,yAxisIndex:0,filterMode:"empty",width:30,height:"80%",showDataShadow:!1,left:"97%"}],series:[{name:"药品大类",type:"bar",barMaxWidth:"60",data:r}]};i.setOption(n),i.on("click",function(e){_.townLoading(this.areaCodeId,e.name)})}else a.$message.error("请检查网络")})},townLoading:function(e,a){var t=this;this.flag=3;var i=null;switch(a){case"西药":i="A";break;case"中成药":i="B";break;case"中草药":i="C";break;case"检查":i="D";break;case"治疗":i="E";break;case"护理":i="F";break;case"手术":i="G";break;case"床位":i="M";break;case"其它":i="其它"}var _=document.getElementById("hosContainter"),s=echarts.init(_);s.showLoading({text:"加载加载加载....."}),__WEBPACK_IMPORTED_MODULE_1_axios___default()({method:"post",url:__WEBPACK_IMPORTED_MODULE_1_axios___default.a.PARK_API+"/xnhidc/backstage/loadddyy_zhuyuan_yaoping_mx",data:__WEBPACK_IMPORTED_MODULE_2_qs___default.a.stringify({sdate:this.startTime,edate:this.endTime,yiyuanCode:this.areaCodeId,type:i}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(e){if(e.data.success){var i;s.hideLoading();var o=e.data.data;echarts.dispose(s),s=echarts.init(_);for(var r=[],l=[],n=0;n<o.length;n++)r[n]=o[n].YPMC,l[n]=o[n].ZJE;var d={title:{text:a,x:"center"},color:["#83bff6"],tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0}}},calculable:!0,xAxis:[{type:"category",data:r}],toolbox:{show:!0,feature:{mark:{show:!0},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},yAxis:[{type:"value",name:"总金额",axisLabel:{formatter:function(e){return e=+e,isFinite(e)?echarts.format.addCommas(+e):""}}}],dataZoom:[(i={show:!0,start:1,end:20},__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"show",!0),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"xAxisIndex",[0]),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"handleSize",20),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"height",8),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"left",30),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"right",40),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"bottom",30),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"handleColor","#ddd"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"handleStyle",{borderColor:"#cacaca",borderWidth:"1",shadowBlur:2,background:"#ddd",shadowColor:"#ddd"}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"fillerColor",new echarts.graphic.LinearGradient(1,0,0,0,[{offset:0,color:"#1eb5e5"},{offset:1,color:"#5ccbb1"}])),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"backgroundColor","#ddd"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"showDataShadow",!1),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"showDetail",!1),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"handleIcon","M-292,322.2c-3.2,0-6.4-0.6-9.3-1.9c-2.9-1.2-5.4-2.9-7.6-5.1s-3.9-4.8-5.1-7.6c-1.3-3-1.9-6.1-1.9-9.3c0-3.2,0.6-6.4,1.9-9.3c1.2-2.9,2.9-5.4,5.1-7.6s4.8-3.9,7.6-5.1c3-1.3,6.1-1.9,9.3-1.9c3.2,0,6.4,0.6,9.3,1.9c2.9,1.2,5.4,2.9,7.6,5.1s3.9,4.8,5.1,7.6c1.3,3,1.9,6.1,1.9,9.3c0,3.2-0.6,6.4-1.9,9.3c-1.2,2.9-2.9,5.4-5.1,7.6s-4.8,3.9-7.6,5.1C-285.6,321.5-288.8,322.2-292,322.2z"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(i,"filterMode","filter"),i),{type:"inside",start:1,end:10}],series:[{name:"总金额",type:"bar",barMaxWidth:"60",data:l}]};s.setOption(d)}else t.$message.error("请检查网络")})},backto:function(){""==this.flag?this.$message.warning("亲！已经是首层了"):1==this.flag?this.$message.warning("已经是第一级了"):2==this.flag?(this.getHostatic(),console.log(this.flag)):3==this.flag&&this.areaLoading()},selectOnchang:function(){var e=this;console.log(this.getAreaCode());var a=this.getAreaCode();__WEBPACK_IMPORTED_MODULE_1_axios___default()({method:"post",url:__WEBPACK_IMPORTED_MODULE_1_axios___default.a.PARK_API+"/xnhidc/backstage/loadddyy_zhuyuan_yiyuan",data:__WEBPACK_IMPORTED_MODULE_2_qs___default.a.stringify({yiyuandengji:this.grade,areaCode:a}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(a){if(a.data.success){var t=a.data.data;e.hospitalCodes=t}else e.$message.error("请检查网络")})},getCityChange:function(){var e=this;__WEBPACK_IMPORTED_MODULE_1_axios___default()({method:"post",url:__WEBPACK_IMPORTED_MODULE_1_axios___default.a.PARK_API+"/hospitalization/biz/analy/queryregion",params:{admincode:61,level:1}}).then(function(a){0==a.data.code?(e.cityoptions=a.data.data,e.getAreaCode()):e.$message.error("请检查网络")}).catch(function(e){})},cityChange:function(e){var a=this;console.log(e),this.area="",this.town="",__WEBPACK_IMPORTED_MODULE_1_axios___default()({method:"post",url:__WEBPACK_IMPORTED_MODULE_1_axios___default.a.PARK_API+"/hospitalization/biz/analy/queryregion",params:{admincode:e,level:2}}).then(function(e){0==e.data.code?(a.areaoptions=e.data.data,a.getAreaCode()):a.$message.error("请检查网络")})},areaChange:function(e){var a=this;this.town="",__WEBPACK_IMPORTED_MODULE_1_axios___default()({method:"post",url:__WEBPACK_IMPORTED_MODULE_1_axios___default.a.PARK_API+"/hospitalization/biz/analy/queryregion",params:{admincode:e,level:3}}).then(function(e){0==e.data.code?(a.townoptions=e.data.data,a.getAreaCode()):a.$message.error("请检查网络")})},getAreaCode:function(){return null!=this.town&&""!=this.town?this.town:null!=this.area&&""!=this.area?this.area:null!=this.city&&""!=this.city?this.city:""},Chartselect:function(e){console.log(e);var a;if(a=this.illegaloptions.find(function(a){return a.value===e}),this.typeName=a.label,console.log(a.label),void 0!==this.alldataRemake){var t=document.getElementById("hosContainter"),i=echarts.init(t);i.showLoading({text:"加载加载加载....."}),i.setOption({title:{text:this.typeName,x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.alldataRemake.dataAxis,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:this.typeName,type:"bar",stack:"住院天数",barMaxWidth:"60",data:this.alldataRemake[this.illegal]}]}),i.hideLoading()}}},created:function(){this.getname(),this.getCityChange()}}},ULCY:function(e,a){},r492:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t("HyQz"),_={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"right-ctn-title"},[t("el-date-picker",{staticClass:"hosptDataSel",attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"开始日期"},model:{value:e.startTime,callback:function(a){e.startTime=a},expression:"startTime"}}),e._v("-\n         "),t("el-date-picker",{staticClass:"hosptDataSel",attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"结束日期"},model:{value:e.endTime,callback:function(a){e.endTime=a},expression:"endTime"}}),e._v(" "),t("el-select",{attrs:{size:"mini",placeholder:"请选择图表项目"},on:{change:e.Chartselect},model:{value:e.illegal,callback:function(a){e.illegal=a},expression:"illegal"}},e._l(e.illegaloptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.hospital,expression:"hospital"}]},[t("span",[e._v("医院等级：")]),e._v(" "),t("el-select",{attrs:{size:"mini",placeholder:"请选择医院等级"},on:{change:e.selectOnchang},model:{value:e.grade,callback:function(a){e.grade=a},expression:"grade"}},e._l(e.gradeoptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),t("el-select",{attrs:{size:"mini",placeholder:"请选择医院"},model:{value:e.hospitalCode,callback:function(a){e.hospitalCode=a},expression:"hospitalCode"}},e._l(e.hospitalCodes,function(e){return t("el-option",{key:e.value,attrs:{label:e.YYMC,value:e.YYBM}})}),1),e._v(" "),t("el-select",{attrs:{size:"mini",placeholder:"--选择市--"},on:{change:e.cityChange},model:{value:e.city,callback:function(a){e.city=a},expression:"city"}},e._l(e.cityoptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.d20120,value:e.d20102}})}),1),e._v(" "),t("el-select",{attrs:{size:"mini",placeholder:"--选择区县--"},on:{change:e.areaChange},model:{value:e.area,callback:function(a){e.area=a},expression:"area"}},e._l(e.areaoptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.d20120,value:e.d20102}})}),1),e._v(" "),t("el-select",{attrs:{size:"mini",placeholder:"--选择乡镇--"},model:{value:e.town,callback:function(a){e.town=a},expression:"town"}},e._l(e.townoptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.d20120,value:e.d20102}})}),1)],1),e._v(" "),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"warning"},on:{click:e.getHostatic}},[t("i",{staticClass:"el-icon-search"}),e._v("\n             查询\n         ")])],1),e._v(" "),t("div",{staticClass:"chart"},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"warning"},on:{click:e.backto}},[t("i",{staticClass:"el-icon-back"})]),e._v(" "),t("div",{style:{width:"100%",height:"470px"},attrs:{id:"hosContainter"}})],1)])},staticRenderFns:[]};var s=function(e){t("ULCY")},o=t("C7Lr")(i.a,_,!1,s,"data-v-98e6ed04",null);a.default=o.exports}});